"NewResourceRequestScreen As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(237, 237, 237, 1)
    OnVisible: |-
        =Concurrent(
            ClearCollect(
                colDepartments,
                ShowColumns(
                    Departments,"DepartmentName","ID"
                   
                )
            ),
            ClearCollect(
                colJobRoles,
                ShowColumns(
                    JobRole,
                    "Role","ID"
                )
            ),
              ClearCollect(
                colEmpType,
                ShowColumns(
                    Employment,
                   "EmploymentType","ID"
                )
            ),
            Set(dataSaved,false)
        )

    NewResourceRequestCanvas As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =Parent.Height - Self.Y
        Width: =Parent.Width
        ZIndex: =1

        DataCard4 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Width: =1366
            X: =0
            Y: =0
            ZIndex: =2

        DataCard5 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Width: =1366
            X: =0
            Y: =1
            ZIndex: =3

            Label1_1 As label:
                Text: ="Department"
                Width: =237
                X: =34
                Y: =46
                ZIndex: =3

            drpDepartment As dropdown:
                AllowEmptySelection: =true
                ChevronBackground: =RGBA(0, 18, 107, 1)
                Default: =
                Items: =colDepartments
                Width: =320
                X: =299
                Y: =46
                ZIndex: =4

            Label1_2 As label:
                Text: ="Sub-Department"
                Width: =237
                X: =672
                Y: =46
                ZIndex: =5

            drpSubDepartment As dropdown:
                AllowEmptySelection: =true
                ChevronBackground: =RGBA(0, 18, 107, 1)
                Default: =
                Items: =ShowColumns(Filter(SubDepartments,DepartmentName.Value=drpDepartment.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BDepartmentName'),"SubDepartmentName","ID")
                Width: =405
                X: =927
                Y: =46
                ZIndex: =6

        DataCard6 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Width: =1366
            X: =0
            Y: =2
            ZIndex: =4

            Label1_3 As label:
                Text: ="Employee Type"
                Width: =237
                X: =672
                Y: =45
                ZIndex: =3

            drpEmployeeType As dropdown:
                AllowEmptySelection: =true
                ChevronBackground: =RGBA(0, 18, 107, 1)
                Default: =
                Items: =colEmpType
                Width: =405
                X: =927
                Y: =45
                ZIndex: =4

            Label1_4 As label:
                Text: ="Job Role"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =5

            drpRole As dropdown:
                ChevronBackground: =RGBA(0, 18, 107, 1)
                Default: =
                Items: =JobRole
                Width: =320
                X: =299
                Y: =40
                ZIndex: =6

        DataCard7 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Width: =1366
            X: =0
            Y: =3
            ZIndex: =5

            Label1_5 As label:
                Text: ="Project Specific Hiring"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =1

            chkProjectSpecHiring As checkbox:
                Height: =40
                Text: ="Yes/No"
                X: =299
                Y: =45
                ZIndex: =2

            Label1_7 As label:
                Text: ="Project Name"
                Visible: =chkProjectSpecHiring.Value=true
                Width: =237
                X: =664
                Y: =40
                ZIndex: =3

            txtProjectName As text:
                Default: =
                Visible: =chkProjectSpecHiring.Value=true
                Width: =405
                X: =927
                Y: =40
                ZIndex: =4

        DataCard8 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =272
            Width: =1366
            X: =0
            Y: =4
            ZIndex: =6

            Label1_6 As label:
                Text: ="Job Description"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =1

            DataCardValue12_3 As attachments:
                BorderColor: =
                DisplayMode: =Parent.DisplayMode
                Height: =210
                IsInDataCard: =true
                Items: =
                PaddingBottom: =5
                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                PaddingRight: =5
                PaddingTop: =5
                Tooltip: ="Upload files"
                Width: =921
                X: =305
                Y: =27
                ZIndex: =2

        DataCard10 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =275
            Width: =1366
            X: =0
            Y: =6
            ZIndex: =8

            Label1_8 As label:
                Text: ="Manager Approval"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =1

            DataCardValue12_2 As attachments:
                BorderColor: =
                DisplayMode: =Parent.DisplayMode
                Height: =210
                IsInDataCard: =true
                Items: =
                PaddingBottom: =5
                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                PaddingRight: =5
                PaddingTop: =5
                Tooltip: ="Upload files"
                Width: =921
                X: =299
                Y: =30
                ZIndex: =2

        DataCard11 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =237
            Width: =1366
            X: =0
            Y: =7
            ZIndex: =9

            Label1_9 As label:
                Text: ="Comments"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =1

            txtComments As text:
                Default: =
                Height: =130
                Mode: =TextMode.MultiLine
                Width: =921
                X: =299
                Y: =40
                ZIndex: =2

        DataCard12 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =1
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =237
            Width: =1366
            X: =0
            Y: =8
            ZIndex: =10

            Label1_10 As label:
                Text: ="Request History"
                Width: =237
                X: =40
                Y: =40
                ZIndex: =1

            txtReqHistory As text:
                Default: =
                Height: =130
                Mode: =TextMode.MultiLine
                Width: =921
                X: =299
                Y: =40
                ZIndex: =2

        DataCard13 As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Width: =1366
            X: =0
            Y: =9
            ZIndex: =11

            btnSubmit As button:
                Fill: =RGBA(99, 139, 44, 1)
                Height: =50
                HoverFill: =ColorFade(Self.Fill, -20%)
                Text: ="Submit"
                X: =768
                Y: =30
                ZIndex: =1

            btnCancel As button:
                Fill: =RGBA(172, 62, 11, 1)
                Height: =50
                HoverFill: =ColorFade(Self.Fill, -20%)
                Text: ="Button"
                X: =987
                Y: =30
                ZIndex: =2

            btnSave As button:
                Fill: =RGBA(0, 18, 107, 1)
                Height: =50
                HoverFill: =ColorFade(Self.Fill, -20%)
                OnSelect: |-
                    =Set(dataSaved,!dataSaved);
                    UpdateContext({reqNo:"IS"&RandBetween(1000,9999)});
                    If(IsError(Patch(ResourceRequest,Defaults(ResourceRequest),{RequestNumber:reqNo,Department:{'@odata.type':"#Microsoft.Azure.Connectors.SharePoint.SPListExpandedReference",
                                            Id:drpDepartment.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BID',
                                            Value:drpDepartment.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BDepartmentName'},
                                            SubDepartment:{'@odata.type':"#Microsoft.Azure.Connectors.SharePoint.SPListExpandedReference",
                                            Id:drpSubDepartment.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BID',
                                            Value:drpSubDepartment.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BSubDepartmentName'},
                                            Role:{'@odata.type':"#Microsoft.Azure.Connectors.SharePoint.SPListExpandedReference",
                                            Id:drpRole.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BID',
                                            Value:drpRole.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BRole'},
                                            'Employment Type':{'@odata.type':"#Microsoft.Azure.Connectors.SharePoint.SPListExpandedReference",
                                            Id:drpEmployeeType.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BID',
                                            Value:drpEmployeeType.SelectedText.'data-ADB4D7A662F548B49FAC2B986E348A1BEmploymentType'},
                                            ProjectSpecificHiring:chkProjectSpecHiring.Value,
                                            ProjectName:txtProjectName.Text,
                                            RequestStatus:"Draft",
                                            Comments:txtComments.Text,
                                            RequestHistory:txtReqHistory.Text
                                  });Set(dataSaved,!dataSaved),Notify("Item was not saved,please check your data once"),)
                Text: ="Save"
                X: =552
                Y: =30
                ZIndex: =3

    HeaderComponent_2 As HeaderComponent:
        AppName: ="Resource Request"
        UserName: =User().FullName
        ZIndex: =2

    LoadingMask As groupContainer.manualLayoutContainer:
        Fill: =RGBA(18,19,20,0.5)
        Height: =App.Height
        Visible: =dataSaved
        Width: =App.Width
        ZIndex: =3

        LoadingContent As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =65
            Width: =735
            X: =376
            Y: =372
            ZIndex: =1

        Label1 As label:
            Align: =Align.Center
            Height: =42
            Text: ="Please wait till saving your data..."
            Width: =442
            X: =545
            Y: =384
            ZIndex: =2

